import{s as j,t as B,d as tt,m as x,c as Q,i as A,e as h,D as et,F as nt,h as S,f as k,j as X,k as O,l as Y,o as L,g as l,S as it,p as ot,q as at,r as rt}from"./index-DTDrr7Ib.js";function ct(){let t,e="",o=0;for(;o<arguments.length;)(t=arguments[o++])&&typeof t=="string"&&(e&&(e+=" "),e+=t);return e}/**
* @license lucide-solid v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var st={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},J=st,lt=B("<svg>"),_t=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dt=(...t)=>t.filter((e,o,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===o).join(" ").trim(),gt=t=>{const[e,o]=j(t,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return(()=>{var a=lt();return tt(a,x(J,{get width(){return e.size??J.width},get height(){return e.size??J.height},get stroke(){return e.color??J.stroke},get"stroke-width"(){return Q(()=>!!e.absoluteStrokeWidth)()?Number(e.strokeWidth??J["stroke-width"])*24/Number(e.size):Number(e.strokeWidth??J["stroke-width"])},get class(){return dt("lucide","lucide-icon",e.name!=null?`lucide-${_t(e?.name)}`:void 0,e.class!=null?e.class:"")}},o),!0,!0),A(a,h(nt,{get each(){return e.iconNode},children:([_,c])=>h(et,x({component:_},c))})),a})()},D=gt,At=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ht=t=>h(D,x(t,{name:"Settings",iconNode:At})),ut=ht,vt=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],mt=t=>h(D,x(t,{name:"House",iconNode:vt})),ft=mt;const St="_container_ptlrc_1",bt="_video_ptlrc_22",Ct="_chat_ptlrc_32",Et="_sidebar_ptlrc_176",kt="_sidebar__title_ptlrc_183",It="_sidebar__items_ptlrc_195",n={container:St,"container--vertical":"_container--vertical_ptlrc_9","container--vertical-reverse":"_container--vertical-reverse_ptlrc_12","container--horizontal":"_container--horizontal_ptlrc_15","container--horizontal-reverse":"_container--horizontal-reverse_ptlrc_18",video:bt,"video--vertical":"_video--vertical_ptlrc_28",chat:Ct,"chat--vertical":"_chat--vertical_ptlrc_38","anon-chat":"_anon-chat_ptlrc_43","anon-chat__area":"_anon-chat__area_ptlrc_56","anon-chat__footer":"_anon-chat__footer_ptlrc_74","anon-chat__buttons":"_anon-chat__buttons_ptlrc_82","anon-chat__button--cog":"_anon-chat__button--cog_ptlrc_88","anon-chat__button--cog__icon":"_anon-chat__button--cog__icon_ptlrc_106","anon-chat__button--submit":"_anon-chat__button--submit_ptlrc_110","anon-chat__hint":"_anon-chat__hint_ptlrc_129","anon-chat__hint--error":"_anon-chat__hint--error_ptlrc_143","modal--config":"_modal--config_ptlrc_147",sidebar:Et,sidebar__title:kt,sidebar__items:It,"sidebar__item--selected":"_sidebar__item--selected_ptlrc_204","sidebar__item-icon--selected":"_sidebar__item-icon--selected_ptlrc_228","modal-container":"_modal-container_ptlrc_240","config-section":"_config-section_ptlrc_253","config-section__title":"_config-section__title_ptlrc_256","config-section__header":"_config-section__header_ptlrc_264","config-section__items":"_config-section__items_ptlrc_270","config-section__item":"_config-section__item_ptlrc_270","config-section__item-image":"_config-section__item-image_ptlrc_285","config-section__item-image--selected":"_config-section__item-image--selected_ptlrc_291","config-section__item-label":"_config-section__item-label_ptlrc_302","config-section__item-label--selected":"_config-section__item-label--selected_ptlrc_308","config-section__buttons":"_config-section__buttons_ptlrc_311","config-section__button":"_config-section__button_ptlrc_311"};function Jt(t){return new Promise(e=>setTimeout(e,t))}const Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAABaCAYAAABTwA9XAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAatJREFUeNrt2r1N62AYhuHnpQ9SalZA8gBpqFgACoaAacgQFOcskIomA0TKCqmRyACmSECIH8dB59B81yW5yG/x6JZsS04AAPiohj7s+/4iyW2SyyQTczVpm2SRZF5Vj0eHtI/oPsm5LUmyTnL3XUxDIf1JcpUk2WyS5XJ3PD2ZtAXTaTKb7Y6zs9d3/1bV9bEhPSeZZLNJHh6S1cq4Leq65ObmNaZtVZ1+9bWTgb/YXRMtlyJq2Wq1a+B9E0eGlLeQaNuIBg6H5JqIEQ2cWIl/QUgICSEhJBASQkJICAmEhJAQEkKC/xXSdGql1o1o4HBIs5khWzeigXEhdZ0xW9V1o0Iaema7f3vh4f82T2efH/5PVdXPQ4IDIblrw+0/QkJIICSEhJAQEggJISEkhARCQkgICYSEkBASQgIhISSEhJBASAgJISEkEBJCQkggJISEkBASCAkhISSEBEJCSAgJIYGQEBJCAiEhJISEkEBICAkhIaQk2ZqHsU0MhbSwG2ObGAppnmRtO/bW+ya+VEO/7Pv+IsltksskE1s2ezpbJJlX1aM5AADgl70Ab0BS4CT++pgAAAAASUVORK5CYII=",Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAABaCAYAAABTwA9XAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAapJREFUeNrt1rFNAmEAhuHvt/dGYICLA1ARKxbQ6mbQaXAGK13AylzFAMYBHAEGOAskMUaOEPW44POUQMiX/3/DkQAA8FXpe7PrusskN0nmSc4d17+0TvKU5K6U8nxwSB8RLZJcOEuSvCS53RVTX0gPSa6c3wDe3pK2TZbLZLUax6aqSqbTZDZLJpPtq4+llOtDQ1p5nA0U0f198vo6zn11nTTNNqZ1KaX67mNnPV8hoiG07XgjSjbb2nZvE2du8siWy5PYKKRjG8t/oh9uFBK/QkgICSEhJBASQkJICAmEhJAQEkICISEkhARCQkgICSGBkBASQkJIICSEhJAQEggJISEkEBJCQkgICYSEkBASQgIhISSEhJBASAgJIYGQEBJCQkggJISEkBASCAkhISSEBEJCSAgJhISQEBJCAiEhJISEkBhQVZ3ERiEd23R6Ehv7Qlq75QHMZkldj3dfXW827mmiL6QntzyAySRpmmQ+H9djrqo2m5pms3FPE2XXG13XXSZZJLlw2yR5SXJbSnk+KKRPMd0kmSc5d5b/0vrjl+huV0QAAMAfegc1vUlB9XltHQAAAABJRU5ErkJggg==",wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAABaCAYAAABTwA9XAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAa9JREFUeNrt3T1qAlEYhtH3hrQJWGcLwizAxiqVC3ARuppkEVmDVRoXILgF60BcgCkUMX86YxJIcs+BqRyn+HiYOwMXJgEA4K1y7MfNZjNMMklym+TKuKq0TjJLcl9Keewc0i6iuyR9syTJMsn0s5gujvxxIiIO9HdNdL4jPVvOeLvMlVKuu4a0MTfeBVNK6bq0QWtCQkgICSGBkBASQkJIICSEhJAQEggJISEkEBJCQkgICYSEkBASQgIhISSEhJBASAgJIYGQEBJCQkggJISEkBASCAkhISSEBEJCSAgJhISQEBJCAiEhJP6Ey1ZnrVbJfL49np5MrQa9XjIYbI+bm5Onn/7K9mqVPDwki4Xh1qhpkvF4H9P5X9mez0VUs8Vi28CXn5FaXIR/7ltC8kxEiwa8teH1HyEhJBASQkJICAmEhJAQEkICIfGrQ+r1TKl2LRo4HdJgYJC1a9HAsZDW+4s0jWHWqmkOQ1qfE9IsyXav7nicjEaWudqWs9Ho1X7tfRMfOLb5f5jkLknfVEmyTDItpTx2CukgpkmS2yRXZlml9e5OdP9ZRAAAwA96AaCiTWhGADwYAAAAAElFTkSuQmCC",pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAABaCAYAAABTwA9XAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAbBJREFUeNrt1j1KxEAAhuFv7FdIvVcQcoBtrKzstMgh9DR6CAu9wFY2OYDgFbYW3APEIiIiZmUFY5Y8D6QaAvPzwkwCAMBXZddg13WnSa6SnCVZ2K5Z2iZZJ7ktpTzuHdJ7RDdJTuwlSZ6TXA/FtCuk+yQXSZLNJmnb/nt5mcayqipZrfpvuXTM43gopVzuG9JrkkU2m+TuLnl6mubS6jppGjGNdM2VUo6/Gzja8VP/Jmrb6UaU9HNrW0c8jsF38tGPvx7CIQnp3/0c0lTeRIc+x9mHBEJCSAgJIYGQEBJCAiEhJISEkEBICAkhISQQEkJCSAgJhISQEBIICSEhJIQEQkJICAkhgZAQEkJCSCAkhISQQEgICSEhJBASQkJICAmEhJAQEkICISEkhARCQkgICSGBkBASQkJIICSEhJAQEggJISEk2Dekqpr+Kg5hjrMPabWa/ioOYY4zDmn7cUh1Pd0V1LWQxrP9TUjrJMlymTRNcn4+rSukqvo5NU0/R8awHhooQwNd150muUlyYv9I8pzkupTyuFdIn2K6SnKWZGEvZ3udrZPcDkUEAAD8oTfCI0lRW0QeZQAAAABJRU5ErkJggg==",Rt="https://vvbj8nuap9.execute-api.ap-northeast-1.amazonaws.com/api";async function yt(t){return await fetch(`${Rt}/message`,{method:"post",body:JSON.stringify(t)})}const Zt=new Set(["udonkotarou"]),Wt=t=>{switch(t.status){case void 0:return"現在サーバーはアクティブではありません。";case 400:switch(t.message){case"ChatCommandIncluded":return"チャットコマンドを送信することはできません。";case"CooldownRequired":return"発言が多すぎます。しばらく待ってから発言してください。";default:return"不正なリクエストです。"}case 409:return"短期間のうちに同一内容の発言を行うことはできません。";case 429:return"発言が多すぎます。しばらく待ってから発言してください。";case 503:return"発言に失敗しました。少し時間をおいてから再度発言してください。";default:return"サーバーへのアクセスが集中しています。"}};var Pt=B("<div><div><img alt></div><div>"),Ut=B("<dialog open><div><div>Config</div><div><a><span>基本設定</span></a></div></div><div><section><div>基本設定</div><div>レイアウト</div><div></div><div><button>決定"),$=B("<section><iframe height=100% width=100%>"),Xt=B("<div><input><div><div></div><div><button></button><button>"),Vt=B("<article>");const Mt=()=>{const[t,e]=S(void 0),o=()=>{e(5),a(4)},a=async _=>{if(_<=0){e(void 0);return}await Jt(1e3),e(_),a(_-1)};return[t,o]},K=t=>{const e=()=>t.isSelected;return(()=>{var o=Pt(),a=o.firstChild,_=a.firstChild,c=a.nextSibling;return L(o,"click",t.setSelected,!0),A(c,()=>t.label),k(r=>{var u=n["config-section__item"],d={[n["config-section__item-image"]]:!0,[n["config-section__item-image--selected"]]:e()},m=t.image,b={[n["config-section__item-label"]]:!0,[n["config-section__item-label--selected"]]:e()};return u!==r.e&&l(o,r.e=u),r.t=X(a,d,r.t),m!==r.a&&Y(_,"src",r.a=m),r.o=X(c,b,r.o),r},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()},Nt=t=>{const e=()=>t.when,[o,a]=S(),[_,c]=S(t.config.ChatPosition),r=d=>{d.target===o()&&t.closeModal()},u=()=>{t.updateConfig({...t.config,ChatPosition:_()}),t.closeModal()};return ot(()=>{const d=o();d!==void 0&&(e()?d.showModal():d.close())}),(()=>{var d=Ut(),m=d.firstChild,b=m.firstChild,V=b.nextSibling,w=V.firstChild,M=w.firstChild,N=m.nextSibling,T=N.firstChild,F=T.firstChild,H=F.nextSibling,g=H.nextSibling,G=g.nextSibling,v=G.firstChild;return d.$$click=r,at(a,d),A(w,h(ft,{get class(){return n["sidebar__item-icon--selected"]}}),M),A(g,h(K,{image:Bt,label:"右部",get isSelected(){return _()==="right"},setSelected:()=>c("right")}),null),A(g,h(K,{image:pt,label:"左部",get isSelected(){return _()==="left"},setSelected:()=>c("left")}),null),A(g,h(K,{image:Qt,label:"上部",get isSelected(){return _()==="top"},setSelected:()=>c("top")}),null),A(g,h(K,{image:wt,label:"下部",get isSelected(){return _()==="bottom"},setSelected:()=>c("bottom")}),null),v.$$click=u,k(i=>{var f=n["modal--config"],I=n.sidebar,p=n.sidebar__title,C=n.sidebar__items,E=n["sidebar__item--selected"],s=n["modal-container"],R=n["config-section"],y=n["config-section__title"],Z=n["config-section__header"],W=n["config-section__items"],P=n["config-section__buttons"],U=n["config-section__button"];return f!==i.e&&l(d,i.e=f),I!==i.t&&l(m,i.t=I),p!==i.a&&l(b,i.a=p),C!==i.o&&l(V,i.o=C),E!==i.i&&l(w,i.i=E),s!==i.n&&l(N,i.n=s),R!==i.s&&l(T,i.s=R),y!==i.h&&l(F,i.h=y),Z!==i.r&&l(H,i.r=Z),W!==i.d&&l(g,i.d=W),P!==i.l&&l(G,i.l=P),U!==i.u&&l(v,i.u=U),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),d})()},Tt=t=>{const e=O(),o=()=>t.config;return(()=>{var a=$(),_=a.firstChild;return k(c=>{var r={[n.video]:!0,[n["video--vertical"]]:o().ChatPosition==="top"||o().ChatPosition==="bottom"},u=`https://player.twitch.tv/?channel=${e.id}&parent=${encodeURI(window.location.hostname)}`;return c.e=X(a,r,c.e),u!==c.t&&Y(_,"src",c.t=u),c},{e:void 0,t:void 0}),a})()},Ft=t=>{const e=O(),[o,a]=S(""),[_,c]=S(!1),[r,u]=S(void 0),[d,m]=Mt(),b=()=>t.config,V=Q(()=>Zt.has(e.id)),w=Q(()=>o().length>140),M=Q(()=>!(_()||d()!==void 0||o().length>140||o().length==0)),N=Q(()=>r()!==void 0?r():`${o().length} / 140`),T=Q(()=>d()!==void 0?d()??"":"送信"),F=g=>{r()!==void 0&&u(void 0),a(g.target.value)},H=async()=>{M()&&(c(!0),await yt({message:o()}).then(()=>{a(""),m()}).catch(g=>{u(Wt(g))}),c(!1))};return(()=>{var g=$(),G=g.firstChild;return A(g,h(it,{get when(){return V()},get children(){var v=Xt(),i=v.firstChild,f=i.nextSibling,I=f.firstChild,p=I.nextSibling,C=p.firstChild,E=C.nextSibling;return i.$$input=F,A(I,N),L(C,"click",t.openModal,!0),A(C,h(ut,{get class(){return n["anon-chat__button--cog__icon"]}})),E.$$click=H,A(E,T),k(s=>{var R=n["anon-chat"],y=n["anon-chat__area"],Z=n["anon-chat__footer"],W=ct(n["anon-chat__hint"],w()&&n["anon-chat__hint--error"]),P=n["anon-chat__buttons"],U=n["anon-chat__button--cog"],q=n["anon-chat__button--submit"],z=!M();return R!==s.e&&l(v,s.e=R),y!==s.t&&l(i,s.t=y),Z!==s.a&&l(f,s.a=Z),W!==s.o&&l(I,s.o=W),P!==s.i&&l(p,s.i=P),U!==s.n&&l(C,s.n=U),q!==s.s&&l(E,s.s=q),z!==s.h&&(E.disabled=s.h=z),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),k(()=>i.value=o()),v}}),null),k(v=>{var i={[n.chat]:!0,[n["chat--vertical"]]:b().ChatPosition==="top"||b().ChatPosition==="bottom"},f=`https://www.twitch.tv/embed/${e.id}/chat?parent=${encodeURI(window.location.hostname)}`;return v.e=X(g,i,v.e),f!==v.t&&Y(G,"src",v.t=f),v},{e:void 0,t:void 0}),g})()},Gt=()=>{const[t,e]=S({ChatPosition:"right"}),[o,a]=S(!1),_=()=>{a(!0)},c=()=>{a(!1)};return(()=>{var r=Vt();return A(r,h(Tt,{get config(){return t()}}),null),A(r,h(Ft,{get config(){return t()},openModal:_}),null),A(r,h(Nt,{get when(){return o()},get config(){return t()},updateConfig:e,closeModal:c}),null),k(u=>X(r,{[n.container]:!0,[n["container--vertical"]]:t().ChatPosition==="bottom",[n["container--vertical-reverse"]]:t().ChatPosition==="top",[n["container--horizontal"]]:t().ChatPosition==="right",[n["container--horizontal-reverse"]]:t().ChatPosition==="left"},u)),r})()};rt(["click","input"]);export{Gt as Id,Gt as default};
